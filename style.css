:root {
    --bg-color: #3d3d3d;
    --active-green: #2b4034;
    --btn-bg: #222222;
    --text-white: #e0e0e0;
    --gold: #f0e68c;
    --accent-blue: #89b4fa;
    --sub-text: #cccccc;
    --input-bg: #1a1a1a;
}

* { box-sizing: border-box; font-family: "MS Gothic", "MS ゴシック", "Courier New", monospace; }
body { background-color: var(--bg-color); color: var(--text-white); margin: 0; padding: 0; }
.container { padding: 20px; }

/* タイトル設定 */
.app-title { 
    font-size: 32px; 
    color: var(--bg-color); 
    -webkit-text-stroke: 1px var(--gold); 
    margin: 0; 
    padding: 20px 20px 0 20px; 
}
hr { border: 0.5px solid #555; margin: 15px 0; }

/* 画面制御 */
.screen { display: none; min-height: 100vh; background-color: var(--bg-color); }
.screen.active { display: block; }

/* ボタンデザイン */
.btn-custom {
    background: var(--btn-bg); color: var(--gold); border: 1px solid #555;
    padding: 10px; cursor: pointer; font-size: 14px; font-weight: bold; border-radius: 4px;
}
.btn-custom:active { background: var(--active-green) !important; color: #fff; }
.btn-full { width: 100%; margin-bottom: 10px; }
.btn-small { padding: 6px 10px; font-size: 13px; }
.gold-border { border-color: var(--gold); }

/* 入力部品 */
input, textarea, select { 
    background: var(--input-bg); color: #fff; border: 1px solid #666; 
    padding: 12px; border-radius: 4px; width: 100%; font-size: 14px;
}
select { cursor: pointer; font-size: 12px !important; font-weight: normal !important; padding: 4px 8px !important; }

/* TOP画面レイアウト */
.top-row { display: flex; gap: 20px; margin-bottom: 25px; }
.diary-summary { background: var(--btn-bg); padding: 15px; border-radius: 12px; width: 320px; cursor: pointer; border: 1px solid #555; }
.diary-title { font-weight: bold; margin-bottom: 10px; font-size: 16px; }
.diary-counts { display: flex; justify-content: space-between; font-size: 13px; }
.diary-counts b { color: var(--accent-blue); font-size: 20px; }
.top-actions { flex: 1; }

.list-header-row { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 15px; }
.list-title { font-size: 26px; font-weight: bold; color: var(--gold); }
.list-controls { display: flex; gap: 10px; }
.list-controls select { width: 130px; height: 35px; }

/* 作品リスト */
.work-item { background: var(--btn-bg); padding: 15px; margin-bottom: 10px; border-radius: 8px; border-left: 5px solid var(--gold); display: flex; justify-content: space-between; align-items: center; }
.pinned { border-left-color: #ff4444; }

/* 統計画面 */
.stats-header { display: flex; justify-content: space-between; align-items: center; margin-top: 20px; }
.stats-main-title { font-size: 20px; font-weight: bold; color: var(--gold); }
.stats-selectors { display: flex; gap: 8px; }
.stats-selectors select { width: 100px; height: 32px; }
.chart-container { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; margin: 15px 0; }
.stats-diary-title { text-align: center; margin-bottom: 20px; font-size: 20px; font-weight: bold; color: var(--gold); }
.stats-card-row { display: flex; gap: 10px; margin-bottom: 10px; }
.stats-card { background: #2a2a2a; border-radius: 12px; padding: 15px; flex: 1; display: flex; flex-direction: column; justify-content: center; }
.stats-card .label { font-size: 14px; color: var(--text-white); margin-bottom: 5px; }
.stats-card .value { font-size: 26px; color: var(--accent-blue); font-weight: bold; text-align: right; }
.stats-card .unit { font-size: 14px; color: var(--text-white); margin-left: 5px; }

/* 編集画面 */
.editor-scroll { overflow-y: auto; max-height: 80vh; padding-right: 10px; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; margin-bottom: 8px; color: var(--gold); font-weight: bold; font-size: 16px; }
.char-count-display { text-align: right; font-size: 16px; font-weight: bold; color: var(--accent-blue); margin-top: 5px; }
.flex-row { display: flex; gap: 10px; margin-bottom: 20px; }
.flex-1 { flex: 1; }
.bold-label { font-weight: bold; }
.compact-row { display: flex; gap: 5px; background: var(--input-bg); padding: 5px; border-radius: 4px; }
.compact-row label { flex: 1; text-align: center; padding: 10px 5px; cursor: pointer; font-size: 12px; border: 1px solid #444; border-radius: 4px; }
.compact-row input { display: none; }
.compact-row label:has(input:checked) { background: #333; border-color: var(--accent-blue); color: var(--accent-blue); font-weight: bold; }
.btn-save { padding: 18px; font-size: 18px; border-color: var(--gold); }

/* 執筆レイアウト */
.writing-layout { display: flex; gap: 15px; height: 70vh; margin-top: 10px; }
.episode-sidebar { width: 200px; background: rgba(0,0,0,0.2); border-radius: 8px; padding: 10px; display: flex; flex-direction: column; }
.episode-list { flex: 1; overflow-y: auto; margin-top: 10px; }
.episode-item { padding: 8px; margin-bottom: 5px; background: var(--btn-bg); border-radius: 4px; cursor: pointer; font-size: 12px; border: 1px solid #444; }
.episode-item.active { border-color: var(--gold); background: var(--active-green); }

.editor-main { flex: 1; display: flex; flex-direction: column; gap: 10px; }
.editor-toolbar { display: flex; gap: 5px; background: var(--btn-bg); padding: 5px; border-radius: 4px; }
.main-textarea { width: 100%; height: 100%; background: #111; color: #fff; padding: 15px; font-size: 16px; line-height: 1.8; border: 1px solid #555; resize: none; }
.main-textarea.vertical-mode { writing-mode: vertical-rl; }
.editor-footer { font-size: 12px; text-align: right; padding: 5px; }

.tab-bar { display: flex; gap: 2px; margin-bottom: 10px; }
.tab-bar .btn-custom { flex: 1; border-radius: 4px 4px 0 0; }
.tab-bar .active { background: var(--active-green); }